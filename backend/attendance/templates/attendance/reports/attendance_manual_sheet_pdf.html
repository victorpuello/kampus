<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <style>
      @page {
            size: A4;
            margin: 1.5cm;
            @frame footer {
                -pdf-frame-content: footerContent;
                bottom: 0.4cm;
                margin-left: 1.4cm;
                margin-right: 1.4cm;
                height: 0.5cm;
            }
          }

      body {
        font-family: Arial, Helvetica, sans-serif;
        font-size: 16px;
        color: #000;
        line-height: 1;
        margin: 0;
        padding: 0;
      }

      .title {
        font-size: 14px;
        font-weight: bold;
        text-align: center;
      }

      .meta {
        font-size: 9px;
        font-weight: bold;
      }

      table.outer {
        width: 100%;
        border-collapse: collapse;
      }

      table.grid {
        width: 100%;
        margin: 0;
        border-collapse: collapse;
        table-layout: fixed;
      }

      table.grid td,
      table.grid th {
        border: 1px solid #111111;
        padding: 2px 2px;
        vertical-align: middle;
        height: 20px;
      }

      .head {
        background: #e8e8e8;
        font-weight: bold;
        text-align: center;
        font-size: 10px;
      }

      .num {
        width: {{ num_width_px|default:18 }}px;
        text-align: center;
        font-size: 9px;
      }

      .name {
        width: {{ name_width_px|default:260 }}px;
        font-size: {{ name_font_size_px|default:9 }}px;
        white-space: nowrap;
      }

      .cell {
        width: {{ cell_width_px|default:12 }}px;
        text-align: center;
      }

      .right {
        text-align: right;
      }

      .spacer {
        height: 10px;
      }

      .signature {
        margin-top: 16px;
        width: 100%;
      }
      .signature-table {
        width: 100%;
        border-collapse: collapse;
      }
      .signature-table td {
        border: none;
        padding: 0;
        vertical-align: bottom;
      }
      .sig-line {
        border-top: 1px solid #000;
        margin: 28px 60px 0 60px;
      }
      .sig-label {
        margin-top: 4px;
        text-align: center;
        font-size: 9px;
        font-weight: bold;
      }
    </style>
  </head>

  <body>
    {% with hide_pdf_footer=True %}
      {% include "reports/partials/pdf_masthead.html" %}
    {% endwith %}

    <table class="outer">
      <tr>
        <td class="title" style="padding-bottom:10px">PLANILLA DE CONTROL DE ASISTENCIA</td>
      </tr>
      <tr>
        <td class="meta" style="line-height: 1.5">
          Grupo:&nbsp;{{ group_label }}
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          Jornada:&nbsp;{{ shift }}
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          Fecha Impresión:&nbsp;{{ printed_at }}
          &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          Control asistencia del mes de:__________________&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<br />
          
          Área/Asignatura:_____________________________________&nbsp;&nbsp;&nbsp;&nbsp;<br />

          {% if teacher_name %}
            Docente: {{ teacher_name }}<br />
          {% else %}
            Docente: _________________________________________<br />
            {% if printed_by_name %}
              Generado por: {{ printed_by_name }}<br />
            {% endif %}
          {% endif %}
         
        </td>
      </tr>
      <tr>
        <td>
          <div style="padding-top:20px">
            <table class="grid" >
              <tr>
                <td class="head num">#</td>
                <td class="head name">APELLIDOS NOMBRES</td>
                <td class="head" colspan="{{ columns|length }}">INASISTENCIAS</td>
              </tr>
              <tr>
                <td colspan="2" style="vertical-align:middle; text-align:center; margin-top:3px" class="right"><strong >Fechas de Inasistencia</strong></td>
                {% for _ in columns %}
                <td class="cell">&nbsp;</td>
                {% endfor %}
              </tr>

              {% for row in students %}
              <tr>
                <td class="num">{{ row.index }}</td>
                <td class="name">{{ row.display_name }}</td>
                {% for _ in columns %}
                <td class="cell">&nbsp;</td>
                {% endfor %}
              </tr>
              {% endfor %}
            </table>
          </div>
        </td>
      </tr>
    </table>

    <div id="footerContent">
      {% if institution and institution.pdf_footer_text %}
        <div style="text-align: center; font-size: 9px; color: #64748b;">
          {{ institution.pdf_footer_text }}
        </div>
      {% endif %}
    </div>
  </body>
</html>
