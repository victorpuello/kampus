# Django
DJANGO_ENV=development
DJANGO_SECRET_KEY=change-me-with-a-long-random-value
DJANGO_DEBUG=true
DJANGO_ALLOWED_HOSTS=localhost,127.0.0.1

# URL pública canónica para enlaces de verificación (QR).
# Úsala en producción si el backend corre detrás de un proxy o en subdominio distinto.
# Ejemplo: https://colegio.midominio.com
KAMPUS_PUBLIC_SITE_URL=

# Rate limit para verificación pública (DRF). Ejemplos: 60/min, 100/hour
KAMPUS_PUBLIC_VERIFY_THROTTLE_RATE=60/min

# Rate limits para autenticación (DRF)
KAMPUS_AUTH_LOGIN_IP_THROTTLE_RATE=20/min
KAMPUS_AUTH_LOGIN_USER_THROTTLE_RATE=10/min
KAMPUS_AUTH_REFRESH_IP_THROTTLE_RATE=60/min
KAMPUS_AUTH_PASSWORD_RESET_REQUEST_IP_THROTTLE_RATE=10/min
KAMPUS_AUTH_PASSWORD_RESET_REQUEST_EMAIL_THROTTLE_RATE=5/hour
KAMPUS_AUTH_PASSWORD_RESET_CONFIRM_IP_THROTTLE_RATE=20/min
KAMPUS_PASSWORD_RESET_TOKEN_TTL_SECONDS=3600
KAMPUS_FRONTEND_BASE_URL=http://localhost:5173
KAMPUS_NOTIFICATIONS_EMAIL_ENABLED=true

# Tamaño máximo (MB) para importaciones CSV de estudiantes/matrículas
KAMPUS_STUDENTS_IMPORT_MAX_MB=10

# Recomendado si TLS termina en el reverse proxy (Nginx/Traefik).
DJANGO_SECURE_PROXY_SSL_HEADER=true
DJANGO_USE_X_FORWARDED_HOST=true

# Hardening de producción (usar DJANGO_ENV=production)
# DJANGO_SECURE_SSL_REDIRECT=true
# DJANGO_SESSION_COOKIE_SECURE=true
# DJANGO_CSRF_COOKIE_SECURE=true
# DJANGO_SECURE_HSTS_SECONDS=31536000
# DJANGO_SECURE_HSTS_INCLUDE_SUBDOMAINS=true
# DJANGO_SECURE_HSTS_PRELOAD=true
# DJANGO_SECURE_CONTENT_TYPE_NOSNIFF=true
# DJANGO_X_FRAME_OPTIONS=DENY
# DJANGO_SECURE_REFERRER_POLICY=strict-origin-when-cross-origin

# Bootstrap opcional de superusuario (deshabilitado por defecto)
KAMPUS_CREATE_SUPERUSER=false
# KAMPUS_SUPERUSER_USERNAME=admin
# KAMPUS_SUPERUSER_EMAIL=admin@kampus.com
# KAMPUS_SUPERUSER_PASSWORD=use-a-strong-password-here

# CORS (frontend dev URL)
CORS_ALLOWED_ORIGINS=http://localhost:5173
CSRF_TRUSTED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173

# Base de datos PostgreSQL (si no se define, se usa SQLite por defecto)
POSTGRES_DB=kampus
POSTGRES_USER=kampus
POSTGRES_PASSWORD=kampus
POSTGRES_HOST=localhost
POSTGRES_PORT=5432

# JWT (opcional)
# SIMPLE_JWT_ACCESS_TOKEN_LIFETIME_MIN=5
# SIMPLE_JWT_REFRESH_TOKEN_LIFETIME_DAYS=1

# Cache/cálculo de progreso de ficha estudiantil
# KAMPUS_CACHE_URL=redis://redis:6379/1
# KAMPUS_CACHE_DEFAULT_TIMEOUT_SECONDS=21600
# KAMPUS_COMPLETION_CACHE_TTL_SECONDS=21600
# Umbrales del semáforo para progreso de grupo (0..100)
# KAMPUS_COMPLETION_TRAFFIC_LIGHT_GREEN_MIN=90
# KAMPUS_COMPLETION_TRAFFIC_LIGHT_YELLOW_MIN=70
# Campos del cálculo de progreso a excluir (csv).
# Si no se define, por defecto se excluyen:
# allergies, emergency_contact_name, emergency_contact_phone, emergency_contact_relationship
# KAMPUS_COMPLETION_EXCLUDED_FIELDS=allergies,emergency_contact_name,emergency_contact_phone,emergency_contact_relationship
# Campos adicionales del modelo Student a incluir en "sección institucional"
# KAMPUS_COMPLETION_EXTRA_STUDENT_FIELDS=financial_status

# Google Gemini API Key
GOOGLE_API_KEY=your-api-key-here

# Email provider (console | mailgun)
KAMPUS_EMAIL_BACKEND=console
DEFAULT_FROM_EMAIL=no-reply@colegio.example.com
SERVER_EMAIL=no-reply@colegio.example.com
MAILGUN_API_KEY=
MAILGUN_SENDER_DOMAIN=
# Para cuentas EU usar: https://api.eu.mailgun.net/v3
# Para US (default): https://api.mailgun.net/v3
MAILGUN_API_URL=
MAILGUN_WEBHOOK_SIGNING_KEY=
MAILGUN_WEBHOOK_STRICT=false
KAMPUS_BACKEND_BASE_URL=http://localhost:8000
KAMPUS_MARKETING_DEFAULT_OPT_IN=false
KAMPUS_MARKETING_UNSUBSCRIBE_TOKEN_TTL_SECONDS=2592000

# Sincronización de censo electoral (Sprint 3)
# URL de la API institucional que retorna lista JSON de estudiantes elegibles.
KAMPUS_CENSUS_SYNC_URL=
# Token Bearer opcional para autenticación contra la API institucional.
KAMPUS_CENSUS_SYNC_AUTH_TOKEN=

# Scheduler de sincronización automática de censo electoral
# true/false para habilitar o pausar ejecución periódica.
ELECTION_CENSUS_SYNC_ENABLED=true
# Intervalo en segundos entre ejecuciones automáticas.
ELECTION_CENSUS_SYNC_INTERVAL_SECONDS=1800
# Modo de fuente: ACTIVE_ENROLLMENTS | URL | FILE
ELECTION_CENSUS_SYNC_SOURCE_MODE=ACTIVE_ENROLLMENTS
# Si SOURCE_MODE=FILE, ruta al archivo JSON de entrada.
ELECTION_CENSUS_SYNC_SOURCE_FILE=
# Si se define, fuerza vigencia académica para ACTIVE_ENROLLMENTS.
ELECTION_CENSUS_SYNC_ACADEMIC_YEAR_ID=
# true=aplica cambios, false=dry-run.
ELECTION_CENSUS_SYNC_APPLY=true

# Endurecimiento de elegibilidad electoral
# true: exige identidad verificable (student_external_id o document_number) en tokens de votación.
KAMPUS_ELECTIONS_REQUIRE_TOKEN_IDENTITY=false